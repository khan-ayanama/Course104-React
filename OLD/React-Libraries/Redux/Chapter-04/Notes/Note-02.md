# RTK Functions

## createReducer and createAction

1. `Creating a reducer and Actions:`

    ```js
        import { createAction,createReducer } from "@reduxjs/toolkit";

        const initialState = {
            reward:11
        }

        export const increment = createAction('reward/increment')
        export const decrement = createAction('decrement')

        const rewardReducer = createReducer(initialState,(builder)=>{
            builder
                .addCase(increment,(state,action)=>{
                    console.log("STATE",state)
                    state.reward+=1;
                })
                .addCase(decrement,(state,action)=>{
                    state.reward--;
                })
        })

        export default rewardReducer;
    ```

2. `Mapping reducer into Store:`

    ```js
        import {configureStore} from '@reduxjs/toolkit'
        import counterReducer from './features/counter/counterSlice'
        import rewardReducer from './reducers/rewards';

        const store = configureStore({
            reducer:{
                counter:counterReducer,
                rewards:rewardReducer,
            }
        })

        export default store;
    ```

3. `Using in Component:`

```js
    import { useDispatch, useSelector } from "react-redux";
    import { increment,decrement } from "../reducers/rewards";

    const ComponentTwo = () =>{
        const reward = useSelector(state=>state.rewards.reward)
        const dispatch = useDispatch()
        return(
            <div style={{color:'black',backgroundColor:'lightcoral'}}>
                <h1>Component One</h1>
                <h2>Reward: {reward}</h2>
                <input type="button" value={'Increase Reaward'} onClick={()=>dispatch(increment())} />
                <button onClick={()=>dispatch(increment())}>Increase Reward</button>
                <button onClick={()=>dispatch(decrement())}>Decrease Reward</button>
            </div>
        )
    }

    export default ComponentTwo;
```

## Async Operation in RTK

```js
    // Import necessary functions from Redux Toolkit
    import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';

    // Define an asynchronous thunk using createAsyncThunk
    export const fetchData = createAsyncThunk('data/fetchData', async () => {
    try {
        // Perform an asynchronous operation, e.g., fetch data from an API
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();

        // Return the data to be used as the payload in the fulfilled action
        return data;
    } catch (error) {
        // Handle errors and return an appropriate value
        console.error('Error fetching data:', error);
        throw error;
    }
    });

    // Create a slice using createSlice
    const dataSlice = createSlice({
    name: 'data',
    initialState: {
        status: 'idle', // 'idle', 'loading', 'succeeded', or 'failed'
        data: null,
        error: null,
    },
    reducers: {},
    extraReducers: (builder) => {
        // Handle actions generated by createAsyncThunk
        builder.addCase(fetchData.pending, (state) => {
        state.status = 'loading';
        });
        builder.addCase(fetchData.fulfilled, (state, action) => {
        state.status = 'succeeded';
        state.data = action.payload;
        });
        builder.addCase(fetchData.rejected, (state, action) => {
        state.status = 'failed';
        state.error = action.error.message;
        });
    },
    });

    // Export the async thunk and the reducer
    export { fetchData };
    export default dataSlice.reducer;
```
